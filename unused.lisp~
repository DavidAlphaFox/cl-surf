(defun store-search-cache (fileindex-ht directory)
  (maphash 
   (lambda (key doc)
       (store-file-index-to-disk doc directory))
   fileindex-ht))

(defun load-search-cache (fileindex-ht directory)
  "directory of form ./indexes/*.*"
  (loop for file in directory do
       (let* ((fileindex (read-file-index-from-file file))
	      (url (slot-value fileindex 'url)))
	 (setf (gethash url fileindex-ht) fileindex))))
